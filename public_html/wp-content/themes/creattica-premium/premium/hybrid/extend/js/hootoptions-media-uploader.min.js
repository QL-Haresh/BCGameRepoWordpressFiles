window.HOOTMEDIA=function(e,o,t,i){var n,l,a={};return a.add_file=function(e,o){var i=(t(".uploaded-file"),t(this));l=o,e.preventDefault(),n?n.open():(n=wp.media.frames.hootoptions_upload=wp.media({title:i.data("choose"),button:{text:i.data("update"),close:!1}}),n.on("select",function(){var e=n.state().get("selection").first();n.close(),l.find(".upload").val(e.attributes.url),"image"==e.attributes.type&&l.find(".screenshot").empty().hide().append('<img src="'+e.attributes.url+'"><a class="remove-image">Remove</a>').slideDown("fast"),l.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(hootoptions_l10n.remove),l.find(".hoot-of-background-properties").slideDown(),l.find(".remove-image, .remove-file").on("click",function(){a.remove_file(t(this).closest(".section"))})})),n.open()},a.remove_file=function(e){e.find(".remove-image").hide(),e.find(".upload").val(""),e.find(".hoot-of-background-properties").hide(),e.find(".screenshot").slideUp(),e.find(".remove-file").unbind().addClass("upload-button").removeClass("remove-file").val(hootoptions_l10n.upload),t(".section-upload .upload-notice").length>0&&t(".upload-button").remove(),e.find(".upload-button").on("click",function(e){a.add_file(e,t(this).closest(".section"))})},a.init=function(){t(".remove-image, .remove-file").on("click",function(){a.remove_file(t(this).closest(".section"))}),t(".upload-button").click(function(e){a.add_file(e,t(this).closest(".section"))})},t(o).ready(a.init),a}(window,document,jQuery);