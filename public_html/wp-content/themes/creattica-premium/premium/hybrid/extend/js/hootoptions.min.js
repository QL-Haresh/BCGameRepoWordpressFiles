jQuery(document).ready(function(o){o(".hoot-of-color").wpColorPicker(),o.fn.hootRadioImg=function(){return this.each(function(){var t=o(this),i=o(this).find(".hoot-of-radio-img-img");i.click(function(){i.removeClass("hoot-of-radio-img-selected"),o(this).addClass("hoot-of-radio-img-selected");var t=o(this).data("selector");o(this).siblings("#"+t).trigger("click")}),i.show(),t.find(".hoot-of-radio-img-label").hide(),t.find(".hoot-of-radio-img-radio").hide()})},o(".hoot-of-radio-img-box").hootRadioImg(),o.fn.hootShowOnSelect=function(){return this.each(function(){var t=o(this),i=t.children(".show-on-select-block"),e=t.data("selector"),n=t.siblings("."+e).find("input");t.find("."+e+"-"+n.filter(":checked").val()).show(),n.change(function(){var n=o(this).val();i.hide(),t.find("."+e+"-"+n).fadeIn()})})},o(".show-on-select").hootShowOnSelect(),o.fn.hootSortList=function(){new RegExp(o(this).attr("id")+"-","g");return this.each(function(){var t=o(this),i=t.siblings(".hoot-of-sortlist-input"),e=t.children("li"),n=t.find(".visibility"),c=function(){for(var o=t.sortable("toArray"),n=0;n<o.length;n++){var c=n+1+",";c+=e.filter("#"+o[n]).is(".invisible")?"0":"1",i.filter("#"+o[n]+"-input").val(c)}};n.on("click",function(){o(this).parent("li").toggleClass("invisible"),c()}),t.sortable({stop:function(o,t){c()},cancel:".visibility",placeholder:"ui-sortable-placeholder",forcePlaceholderSize:!0})})},o(".hoot-of-sort-list").hootSortList(),o.fn.hootIconPicker=function(){return this.each(function(){var t=o(this),i=t.siblings(".hoot-of-icon-picker-box"),e=t.siblings(".hoot-of-icon-picked"),n=e.children("i"),c=i.find("i");e.on("click",function(){i.toggle()}),c.on("click",function(){var e=o(this).data("value");c.removeClass("selected");var s=o(this).hasClass("cmb-icon-none")?"":"selected";o(this).addClass(s),n.removeClass().addClass(s+" "+e),t.val(e),i.toggle()})})},o(".hoot-of-icon").hootIconPicker(),o(document).on("click",function(t){o(t.target).closest(".hoot-of-icon-picker-box").length||o(t.target).closest(".hoot-of-icon-picked").length||o(".hoot-of-icon-picker-box").hide()}),o.fn.hootFontFacePicker=function(){return this.each(function(){var t=o(this),i=t.siblings(".hoot-of-typography-face-picker-box"),e=t.siblings(".hoot-of-typography-face-picked"),n=e.children(".hoot-of-typography-face-picked-text"),c=i.find(".hoot-of-typography-face-option");e.on("click",function(){i.toggle()}),c.on("click",function(){var e=o(this).data("value");c.removeClass("selected"),o(this).addClass("selected");var s=o(this).find("span").html();n.text(s),t.val(e),i.toggle()})})},o(".hoot-of-typography-face").hootFontFacePicker(),o(document).on("click",function(t){o(t.target).closest(".hoot-of-typography-face-picker-box").length||o(t.target).closest(".hoot-of-typography-face-picked").length||o(".hoot-of-typography-face-picker-box").hide()});var t=function(){o(".hoot-of-groups").each(function(){var t=o(this),i=t.siblings(".add-group-button"),e=t.siblings(".hoot-of-group-toggle-all"),n=t.children(".hoot-of-group"),c=o(this).data("index"),s="undefined"==typeof window.hoot_of_helper[c]?"":window.hoot_of_helper[c];e.children(".fas").on("click",function(){o(this).is(".fa-toggle-on")?o(this).parent().siblings(".hoot-of-groups").find(".hoot-of-group-content").hide():o(this).parent().siblings(".hoot-of-groups").find(".hoot-of-group-content").show(),o(this).toggleClass("fa-toggle-on")});var r=t.find(".remove-group-button");1==r.length&&r.addClass("disabled");var a=function(i){i.find(".remove-group-button").on("click",function(i){if(i.preventDefault(),!o(this).is(".disabled")){o(this).closest(".hoot-of-group").remove();var e=t.find(".remove-group-button");1==e.length&&e.addClass("disabled")}})},h=function(t,i){a(t),i&&(t.find(".hoot-of-color").wpColorPicker(),t.find(".hoot-of-radio-img-box").hootRadioImg(),t.find(".show-on-select").hootShowOnSelect(),t.find(".hoot-of-sort-list").hootSortList(),t.find(".hoot-of-icon").hootIconPicker(),t.find(".hoot-of-typography-face").hootFontFacePicker(),t.find(".remove-image, .remove-file").on("click",function(){HOOTMEDIA.remove_file(o(this).closest(".section"))}),t.find(".upload-button").click(function(t){HOOTMEDIA.add_file(t,o(this).closest(".section"))})),t.find(".hoot-of-group-toggle").on("click",function(){o(this).parent().siblings(".hoot-of-group-content").toggle()})};n.each(function(){h(o(this),!1)}),t.is(".sortable")&&t.sortable({handle:".hoot-of-group-title",placeholder:"ui-sortable-placeholder",forcePlaceholderSize:!0}),t.is(".repeatable")&&i.on("click",function(i){i.preventDefault();var e=t.find(".remove-group-button");1==e.length&&e.removeClass("disabled");var n=parseInt(o(this).data("iterator"));n++,o(this).data("iterator",n);var c=s.trim().replace(/975318642/g,"g"+n),r=o(c);h(r,!0),t.append(r)})})};t()});